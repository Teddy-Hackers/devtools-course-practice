#############################################
##### Testing
#############################################

set(prefix "${MODULE}")

add_test(
    NAME ${prefix}_can_Run
    COMMAND ${APPLICATION}
)
set_tests_properties (${prefix}_can_Run PROPERTIES
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Print_Help
    COMMAND ${APPLICATION}
)

set_tests_properties (${prefix}_can_Print_Help PROPERTIES
    PASS_REGULAR_EXPRESSION ""
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Check_Number_Of_Arguments
    COMMAND ${APPLICATION} 3 4
)
set_tests_properties (${prefix}_can_Check_Number_Of_Arguments PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Input parameters amount mismatch."
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Detect_Wrong_Array_Size_Format
    COMMAND ${APPLICATION} a 2 78
)
set_tests_properties (${prefix}_can_Detect_Wrong_Count_Format PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Cant parse <count>"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Detect_Empty_Matrix
    COMMAND ${APPLICATION} 2 1
)
set_tests_properties (${prefix}_can_Detect_Empty_Matrix PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Adjacency array is empty"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Detect_Not_Filled_Matrix
    COMMAND ${APPLICATION} 2 1 12
)
set_tests_properties (${prefix}_can_Detect_Not_Filled_Matrix PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Adjacency array is not completely filled"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Detect_Wrong_Start_Vertex_Format
    COMMAND ${APPLICATION} 1 -2 2
)
set_tests_properties (${prefix}_can_Detect_Wrong_Start_Vertex_Format PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Cant parse <sort>"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Detect_Wrong_Value_Format_In_Matrix
    COMMAND ${APPLICATION} 4 1 a h y f
)
set_tests_properties (${prefix}_can_Detect_Wrong_Value_Format_In_Matrix PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Cant parse array at index"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_can_Get_Value_Of_Distance
    COMMAND ${APPLICATION} 3 2 1 6 7 4 3
)
set_tests_properties (${prefix}_can_Get_Value_Of_Distance PROPERTIES
    PASS_REGULAR_EXPRESSION "0.000000"
    LABELS "${MODULE}")
